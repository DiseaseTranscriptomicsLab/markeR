% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/VariableAssociation.R
\name{VariableAssociation}
\alias{VariableAssociation}
\title{Visualize Statistical Associations Between Variables and a Target Score}
\usage{
VariableAssociation(
  df,
  cols,
  target_var,
  targetvar_lab = "Score",
  discrete_colors = NULL,
  continuous_color = "#8C6D03",
  color_palette = "Set2",
  sizeannot = 3,
  ncol = NULL,
  nrow = NULL,
  numeric = "pearson",
  categorical_bin = "t.test",
  categorical_multi = "anova",
  title = NULL,
  titlesize = 14,
  nonsignif_color = "grey",
  signif_color = "red",
  saturation_value = NULL,
  sig_threshold = 0.05,
  widthlabels = 18,
  pointSize = 5,
  widths = 1,
  heights = 1
)
}
\arguments{
\item{df}{A data frame containing the target variable and predictors.}

\item{cols}{A character vector of predictor variables to include in the plots.}

\item{target_var}{The dependent variable to be plotted.}

\item{targetvar_lab}{A string specifying the label for the target variable. Default is \code{"Score"}.}

\item{discrete_colors}{Optional. A named list specifying custom colors for categorical variables.
Each element should be a named vector where names correspond to factor levels.}

\item{continuous_color}{The color for numeric variables in scatter plots. Default is \code{"#8C6D03"}.}

\item{color_palette}{A color palette from RColorBrewer for categorical variables. Default is \code{"Set2"}.}

\item{sizeannot}{The font size for p-value annotations in plots. Default is \code{3}.}

\item{ncol}{Number of columns in the arranged plot grid. If \code{NULL}, layout is auto-determined.}

\item{nrow}{Number of rows in the arranged plot grid. If \code{NULL}, layout is auto-determined.}

\item{numeric}{The correlation method for numeric predictors.
Options: \code{"pearson"} (default), \code{"spearman"}, \code{"kendall"}.}

\item{categorical_bin}{The statistical test for binary categorical variables.
Options: \code{"t.test"} (default) or \code{"wilcoxon"}.}

\item{categorical_multi}{The statistical test for multi-level categorical variables.
Options: \code{"anova"} (default) or \code{"kruskal-wallis"}.}

\item{title}{A string specifying the main title of the grid of plots.}

\item{titlesize}{Numeric; font size of the main title of the grid of plots (default = \code{14}).}

\item{nonsignif_color}{A string specifying the color for the middle of the adjusted p-value gradient. Default is \code{"white"}. Lower limit correspond to the value of \code{sig_threshold}.}

\item{signif_color}{A string specifying the color for the low end of the adjusted p-value gradient until the value chosen for significance (\code{sig_threshold}). Default is \code{"blue"}.}

\item{saturation_value}{A numeric value specifying the lower limit of the adjusted p-value gradient, below which the color will correspond to \code{signif_color}. Default is the results' minimum, unless that
value is above the sig_threshold; in that case, it is 0.001.}

\item{sig_threshold}{A numeric value specifying the threshold for significance visualization in the plot. Default: \code{0.05}.}

\item{widthlabels}{An integer controlling the maximum width of contrast labels before text wrapping. Default: \code{18}.}

\item{pointSize}{Numeric. The size of points in the lollipop plot (default is 5).}

\item{widths}{Numerical vector of relative columns widths. Should be the same length as the number of variables provided. Default is that each plot has the same width.}

\item{heights}{Numerical vector of relative columns heights  Should be the same length as the number of variables provided. Default is that each plot has the same height}
}
\value{
A named list with two elements:
\itemize{
\item \code{plot}: A \code{ggarrange} object displaying the arranged statistical plots in a grid format.
\item \code{data}: A named list containing the statistical test results for each variable, where each entry is a data frame with metric values and p-values.
}
}
\description{
Creates visual representations of statistical relationships between predictor variables
and a target variable (\code{target_var}). The function generates scatter plots with regression
lines for numeric variables and density plots for categorical variables, incorporating
statistical test results from \code{compute_stat_tests()}.
}
\details{
\subsection{\strong{Plot Types}}{
\itemize{
\item \strong{Numeric Predictors}: Scatter plots with regression lines, annotated with correlation metrics.
\item \strong{Categorical Predictors}: Density plots colored by factor levels, annotated with test statistics.
}
}

\subsection{\strong{Variable Classification & Statistical Methods}}{
\itemize{
\item \strong{Numeric}: Continuous numeric or integer variables with more than 10 unique values.
\itemize{
\item Test: Pearson, Spearman, or Kendall correlation.
}
\item \strong{Categorical Bin}: Binary categorical variables (factors, characters, or integers with exactly 2 unique values).
\itemize{
\item Test: T-test or Wilcoxon rank-sum test.
}
\item \strong{Categorical Multi}: Categorical variables with more than 2 unique values (up to 10 levels recommended).
\itemize{
\item Test: ANOVA (default) or Kruskal-Wallis.
\item If ANOVA is used, Tukeyâ€™s HSD post-hoc test is performed.
\item A warning is issued if a categorical variable has more than 10 unique values.
}
}
}

\subsection{\strong{Color Customization}}{
\itemize{
\item \strong{Continuous Variables}: \code{continuous_color} specifies the color of scatter plot points.
\item \strong{Categorical Variables}:
\itemize{
\item User can provide a named list (\code{discrete_colors}) with custom colors for factor levels.
\item If \code{discrete_colors} is \code{NULL}, colors are chosen from an \code{RColorBrewer} palette (\code{color_palette}).
}
\item Each plot is annotated with the corresponding statistical test result (e.g., correlation coefficient,
ANOVA F-value, t-test statistic) and p-values.
\item If a categorical variable has more than 10 unique levels, a warning is issued.
\item If \code{discrete_colors} is provided, it overrides \code{color_palette} for the specified variables.
\item If \code{ncol} and \code{nrow} are \code{NULL}, the function automatically determines an optimal grid layout.
}
}
}
\keyword{internal}
